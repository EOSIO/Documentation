# EOS.IO, технічні білі папери

**14 листопад 2017, перекладено @BlockchainLab.me (https://blockchainlab.me/)**

**Анотація:** EOS.IO — програмний комплекс, реалізований у новій блокчейн-архітектурі, що дозволяє здійснювати вертикальне та горизонтальне масштабування децентралізованих програм. Така можливість досягається шляхом створення схеми, аналогічної до операційної системи, окрім якої передбачається розробка спеціальних програм. Програмний комплекс, що розроблюється, включає в себе управління аккаунтами та аутентифікацією, бази даних, асинхронний обмін даними, а також управління чергою виконання операцій для програм із можливістю розподілу завдань між сотнями процесорних ядер або цілими [серверними] кластерами. Результатом стала технологія, що є блокчейн-архітектурою, масштабованою до мільйонів транзакцій на секунду. Вона не вимагає від користувачів комісійних платежів за використання, а також дозволяє розгортати децентралізовані програми легко і швидко.

**Зауваження: криптографічні токени, що про них ідеться в цих білих паперах, — це криптографічні токени блокчейна, що вже функціонує під управлінням EOS.IO. Вони не є ERC-20 сумісними токенами блокчейна Ethereum, пов'язаними з процесом розподілу токенів EOS.**

Copyright © 2017 block.one

Допускається використання, відтворення та розповсюдження будь-яких матеріалів із цього документа в некомерційному вигляді, а також із освітньою метою (наприклад, будь-які витяги, що не передбачають винагороди чи комерційної реалізації) без спеціального дозволу. Єдина умова — цитування оригінального джерела та, відповідно, згадка про авторські права.

**Відмова від відповідальності:** Цей драфт технічних білих паперів EOS.IO публікується лише з інформаційною метою. block.one не гарантує точності або висновків, наведених у цьому документі. Матеріал надається в такому вигляді, не гарантуючи повноти покриття та експліцитного або імпліцитного виконання перерахованих (але не обмежених ними) умов: (i) комерційна придатність, можливість конкретного застосування, іменування або недотримання (прав); (ii) недопущення помилок у тексті, можливість його застосування з конкретною метою; (iii) непорушення змістом цього паперу прав третіх осіб. block.one і будь-які афілійовані структури відмовляються від жодних зобов'язань і збитків, причиною яких може стати використання, згадка або посилання на інформацію, що міститься в цих паперах, а також будь-які рекомендації щодо імовірного настання таких наслідків. В жодному разі block.one чи її афілійовані особи не несуть відповідальності перед будь-якими особами чи організаціями за збитки, зобов'язання або витрати різного типу, включно з прямими, непрямими, компенсаційними, випадковими, фактичними та приблизними. Сюди ж належать збитки, що виникли внаслідок обґрунтування чи планування робіт на основі цих білих паперів або будь-якого змісту справжнього документу, включно з будь-якими втратами бізнесу, доходів, прибутку, даних, доступності, доброї волі та іншими нематеріальними збитками.

- [Вступ](#Вступ)
- [Вимоги до додатків на основі блокчейн](#Вимоги-до-додатків-на-основі-блокчейн)
  * [Підтримка мільйонів користувачів](#Підтримка-мільйонів-користувачів)
  * [Можливість безкоштовного використання](#Можливість-безкоштовного-використання)
  * [Можливість простого оновлення та відновлення після збоїв](#Можливість-простого-оновлення-та-відновлення-після-збоїв)
  * [Швидкість відгуку](#Швидкість-відгуку)
  * [Послідовна продуктивність](#Послідовна-продуктивність)
  * [Паралельна продуктивність](#Паралельна-продуктивність)
- [Алгоритм консенсусу (DPOS)](#алгоритм-консенсусу--DPOS-)
  * [Підтвердження транзакцій](#Підтвердження-транзакцій)
  * [Транзакції як Доказ Володіння Часткою (TaPoS)](#Транзакції-як-Доказ-Володіння-Часткою-(TaPoS))
- [Аккаунти](#аккаунти) 
  * [Повідомлення і обробники](#Повідомлення-і-обробники)
  * [Управління правами доступу на основі ролей](#Управління-правами-доступу-на-основі-ролей) 
    + [Іменовані рівні прав доступу](#Іменовані-рівні-прав-доступу)
    + [Іменовані групи обробників повідомлень](#Іменовані-групи-обробників-повідомлень)
    + [Прив'язка прав доступу](#Прив'язка-прав-доступу)
    + [Застосування прав доступу](#Застосування-прав-доступу) 
      - [Вихідні групи прав доступу](#Вихідні-групи-прав-доступу)
      - [Паралельний розбір прав доступу](#Паралельний-розбір-прав-доступу)
  * [Повідомлення з відкладеною доставкою](#Повідомлення-з-відкладеною-доставкою)
  * [Відновлення викрадених ключів](#Відновлення-викрадених-ключів)
- [Детерміноване паралельне функціонування додатків](#Детерміноване-паралельне-функціонування-додатків) 
  * [Мінімізація комунікаційної затримки](#Мінімізація-комунікаційної-затримки)
  * [Прочитання повідомлень виключно обробниками](#Прочитання-повідомлень-виключно-обробниками)
  * [Атомарні транзакції з декількома аккаунтами](#Атомарні-транзакції-з-декількома-аккаунтами)
  * [Часткова оцінка стану блокчейна](#Часткова-оцінка-стану-блокчейна)
  * [Суб'єктивне планування найкращих результатів](#Суб'єктивне-планування-найкращих-результатів)
- [Модель токена та вичерпання ресурсів](#Модель-токена-та-вичерпання-ресурсів) 
  * [Об'єктивні та суб'єктивні вимірювання](#Об'єктивні-та-суб'єктивні-вимірювання)
  * [Бізнес сплачує](#Бізнес-сплачує)
  * [Делегування потужностей](#Делегування-потужностей)
  * [Виокремлення вартості транзакції від фактичної цінності токена](#Виокремлення-вартості-транзакції-від-фактичної-цінності-токена)
  * [Вартість збереження стану](#Вартість-збереження-стану)
  * [Винагорода за блок](#Винагорода-за-блок)
  * [Корисні для спільноти додатки](#Корисні-для-спільноти-додатки)
- [Управління](#Управління) 
  * [Заморожування аккаунтів](#Заморожування-аккаунтів)
  * [Зміна коду аккаунта](#Зміна-коду-аккаунта)
  * [Конституція](#Конституція)
  * [Оновлення Протоколу & Конституції](#Оновлення-Протоколу-&-Конституції) 
    + [Екстрені зміни](#Екстрені-зміни)
- [Скрипти & віртуальні машини](#Скрипти-&-віртуальні-машини) 
  * [Повідомлення, визначені схемою](#Повідомлення,-визначені-схемою)
  * [Обумовлена схемою база даних](#Обумовлена-схемою-база-даних)
  * [Відокремлення аутентифікації від додатка](#Відокремлення-аутентифікації-від-додатка)
  * [Незалежна архітектура віртуальної машини](#Незалежна-архітектура-віртуальної-машини) 
    + [Web Assembly (WASM)](#Web-Assembly-(WASM))
    + [Віртуальна машина Ethereum (EVM)](#Віртуальна-машина-Ethereum-(EVM))
- [Міжблокчейновий зв'язок](#Міжблокчейновий-зв'язок) 
  * [Доказ Меркле для перевірки легкого клієнта (Light Client) (LCV)](#Доказ-Меркле-для-перевірки-легкого-клієнта-(Light-Client)-(LCV))
  * [Затримка зв'язку між блокчейнами](#Затримка-зв'язку-між-блокчейнами)
  * [Доказ цілісності](#Доказ-цілісності)
- [Висновок](#Висновок)

# Вступ

Технологія блокчейн була презентована в 2008 році одночасно з упровадженням валюти біткойн. Із того часу підприємці та розробники намагаються узагальнити технологію з метою підтримки більш широкого спектру додатків у межах єдиної блокчейн-платформи.

Тоді як безліч блокчейн-платформ прагнули реалізувати функціональні децентралізовані додатки, спеціалізовані системи, наприклад, децентралізована біржа BitShares (2014 року) і соціальна медіаплатформа Steem (2016), перетворилися на популярні блокчейн-спільноти з десятками тисяч активних користувачів щодня. Такі досягнення були спричинені зростанням продуктивності до тисяч операцій на секунду, зниженням затримки відповіді до 1,5 секунд, зменшенням обсягу комісії, а також наданням користувачам можливостей, які гарантують уже звичні централізовані сервіси.

Високі комісії та обмеження, що спричинені потребами в обчислювальних потужностях, перешкоджають упровадженню технології блокчейн і її адаптації до потреб спільноти.

# Вимоги до додатків на основі блокчейн

Для ширшого розповсюдження блокчейн-додатків необхідна гнучка платформа, що відповідатиме таким вимогам:

## Підтримка мільйонів користувачів

Видатні компанії, як-от eBay, Uber, Airbnb і Facebook, відчувають потребу в блокчейн-технології, що дозволяє обслуговувати мільйони активних користувачів щодня. В окремих випадках додаток не може працювати без заздалегідь визначеної кількості користувачів, а отже, платформа, здатна впоратися з масовим напливом користувачів, украй затребувана.

## Можливість безкоштовного використання

Розробникам доведеться бути гнучкими і пропонувати користувачам безкоштовні сервіси; користувачі не повинні платити за використання платформи або отримувати прибуток від її сервісів. Безкоштовна платформа, імовірно, зможе здобути більш широке розповсюдження. Унаслідок цього розробники та підприємці матимуть можливість реалізувати ефективні стратегії монетизації.

## Можливість простого оновлення та відновлення після збоїв

Підприємства, що розробляють додатки на базі блокчейна, мають бути гнучкими для розширення та поліпшення функціональності.
Будь-яке, окрім тривіального, програмне забезпечення може містити помилки навіть після ретельних перевірок. Платформа має допомагати вирішити неминучі в процесі її функціонування проблеми.

## Швидкість відгуку

Зручність використання диктує необхідність стійкого зворотного зв'язку із затримкою тривалістю не більше ніж декілька секунд. Довші паузи погіршують враження користувачів щодо блокчейн-додатків порівняно з уже відомими аналогами, що не базуються на блокчейні.

## Послідовна продуктивність

Деякі програми не можуть реалізовувати паралельні алгоритми через наявність послідовно залежних кроків. Наприклад, біржові додатки повинні забезпечувати достатню продуктивність послідовних обчислень для підтримки високих обсягів [торгів]. Тому платформа, що розроблюється, повинна мати високу продуктивність послідовних обчислень.

## Паралельна продуктивність

Додаткам великого масштабу необхідно розподіляти навантаження на кілька процесорів і комп'ютерів.

# Алгоритм консенсусу (DPOS)

EOS.IO застосовує єдиний децентралізований алгоритм консенсусу, здатний задовольнити потреби в продуктивності додатків на блокчейні: Делегований Доказ Володіння Часткою (Delegated Proof of Stake, DPOS). Згідно з цим алгоритмом, власники токенів блокчейна, адаптованого до EOS.IO, можуть обирати виробників блоків протягом безперервного голосування. Причому будь-хто може взяти участь у виробництві блоків із правом створити кількість блоків, пропорційну обсягу здобутих голосів на користь усіх інших виробників. У закритих блокчейнах керівництво могло б застосовувати токени для найму та звільнення IT-персоналу.
У EOS.IO блоки створюватимуться кожні 3 секунди, при цьому це право матиме тільки один виробник. Якщо блок не був створений згідно з розкладом, відповідний проміжок часу проминається. Якщо пропущено один або кілька блоків, у блокчейні залишається розрив тривалістю 6 або більше секунд.
У EOS.IO блоки створюються раундами. Гранична кількість блоків у одному раунді — 21. Кожен сет починається з вибору 21 унікального виробника. 20 найкращих із них автоматично беруть участь у кожному раунді, а останній обирається відповідно до кількості набраних голосів порівняно з іншими виробниками. Відібрані для раунду шикуються в чергу відповідно до псевдовипадкових номерів, здобутих із часу блоку. Таке розташування виробників покликане збалансувати зв'язки між ними.
Якщо виробник пропускає блок і не продукує жодного з них протягом 24 годин, він виключається з розгляду до спеціального повідомлення, яке повинен надіслати в блокчейн для підтвердження наміру продовжити роботу. Це забезпечує злагоджене функціонування мережі та мінімізує кількість пропущених блоків шляхом виключення ненадійних продуцентів із розкладу.
Зазвичай DPOS-блокчейни не схильні до розгалуження (виникнення форків), оскільки виробники блоків не конкурують між собою, а кооперуються. У разі, якщо розгалуження ланцюга все-таки відбувається, алгоритм консенсусу автоматично перемикається на найдовшу послідовність блоків. Ця схема працює, бо швидкість додавання блоків у гілку ланцюга безпосередньо залежить від відсотка виробників, задіяних у поточному консенсусі. Іншими словами, гілка блокчейна з великою кількістю виробників просто подовжується швидше порівняно з ланцюгом, що налічує меншу кількість виробників. Більш того, продуцент блоків не може виробляти їх для декількох гілок одночасно. Виробник, спійманий за цією справою, найімовірніше буде вилучений із процесу шляхом голосування. Для автоматизації усунення порушників можуть використовуватися криптографічні докази.

## Підтвердження транзакцій

У типових DPOS-блокчейнах у роботі беруть участь усі продуценти блоків. Транзакція може вважатися підтвердженою з ймовірністю 99,9 % протягом 1,5 секунд із моменту здійснення.

Можуть виникнути деякі екстраординарні ситуації, викликані збоєм у ПЗ, від’єднанням від інтернету або навмисними шкідливими діями з боку виробника блоків. У такому разі виникає відгалуження (форк). Для абсолютної впевненості в незворотності транзакції вузол мережі може потребувати підтвердження від 15 із 21 продуцентів блоків. Для стандартної конфігурації EOS.IO в нормальних умовах на це знадобиться 45 секунд. За замовчуванням усі вузли вважатимуть блок незворотним після отримання підтверджень від 15 з 21 виробників і не будуть перемикатися на гілку, що не містить цього блоку, незалежно від її довжини.

Вузол мережі може попереджати користувачів про високу ймовірність перебування на гілці меншості вже протягом перших 9 секунд із моменту переходу на таку гілку. Після 2-х послідовно пропущених блоків можливість виникнення вузла на гілці меншості дорівнює 95 %. Після 3-х — 99 %. Існує імовірність створення надійної моделі прогнозування, що на основі інформації про вимкнені вузли, недавніх рейтингів учасників та інших факторів могла б швидко попереджати користувачів про проблеми.

Реакція на такі перестороги повністю залежить від природи бізнес-транзакцій, але найпростіший шлях — дочекатися 15 із 21 підтверджень, після чого попередження зникне.

## Транзакції як Доказ Володіння Часткою (TaPoS)

EOS.IO вимагає включення в кожну транзакцію хешу від заголовка попереднього блоку. Цей хеш виконує дві функції:

  1. запобігає повторенню транзакції в гілці, що не містить згаданого блоку;
  2. повідомляє мережу про перебування певного користувача та його частки на певній гілці.

Пізніше всі користувачі безпосередньо визначать блокчейн як основний, що унеможливить підробку ланцюга через відсутність у зловмисника шансу перенести транзакції зі справжнього ланцюга.

# Аккаунти

EOS.IO дозволяє застосовувати як ідентифікатор аккаунта унікальні, доступні для людського сприйняття імена довжиною від 2 до 32 символів. Найменування обирається творцем аккаунта. Для забезпечення можливості зберігання стану рахунок аккаунта повинен бути поповнений мінімальною сумою в момент створення. Окрім того, імена облікових записів можуть містити покажчик на простір імен (namespace), при чому тільки власник аккаунта @domain може створювати облікові записи вигляду @user.domain.

У контексті децентралізації розробники додатків сплачуватимуть номінальні витрати на створення аккаунтів для своїх нових користувачів. Традиційний бізнес уже витрачає значні суми на залучення кожного нового клієнта, включно з рекламними витратами, безкоштовними послугами тощо. Порівняно з поточними видатками, вартість створення нового облікового запису в блокчейні буде мізерною. На щастя, аккаунти, що вже були зафіксовані користувачем у інших додатках, реєструвати наново не знадобиться.

## Повідомлення та обробники

Кожен аккаунт має можливість надсилати структуровані повідомлення іншим обліковим записам, а також здатен визначати процедури обробки вхідних повідомлень (скрипти). EOS.IO надає кожному аккаунту захищену базу даних, доступ до якої мають тільки персональні обробники повідомлень. Останні можуть посилати повідомлення іншим аккаунтам. Поєднання повідомлень і їхніх автоматизованих оброблювачів — це суть смарт-контрактів у межах EOS.IO.

## Управління правами доступу на основі ролей

Управління правами доступу передбачає визначення наявності прав доступу повідомлень. Найпростішою формою такого керування є перевірка наявності у транзакції необхідних підписів, проте це передбачає, що такі підписи вже відомі. Зазвичай влада надається деяким співробітникам або їхнім групам і часто розділена на окремі гілки. EOS.IO надає декларативну систему управління правами доступу, що гарантує аккаунтам ретельний багаторівневий контроль над тим, хто, що і коли може робити.

Стандартизація аутентифікації, управління правами доступу і відділення їх від бізнес-логіки додатка — критично важливі фактори. Це уможливлює створення інструментів управління правами доступу у звичайних середовищах розробки, а також забезпечує широкі можливості для оптимізації продуктивності.

Кожен аккаунт може контролюватися комбінацією інших аккаунтів і приватних ключів згідно з їхніми частками. Це формує ієрархічну адміністративну структуру, що відображатиме реальну організацію прав доступу і максимально спростить спільне управління коштами. Останнє, до речі, вносить найбільший вклад у безпеку і при правильному застосуванні здатне значно знизити ризик крадіжки шляхом злому.

EOS.IO дозволяє аккаунтам задавати комбінації ключів і/або інших облікових записів, які можуть надсилати повідомлення певних типів іншим аккаунтам. Наприклад, існує можливість наявності одного ключа для соціальних мереж користувача і іншого — для доступу до біржі. Імовірна навіть передача прав доступу одного аккаунта іншому на виконання дій від його особи без передачі при цьому ключів.

### Іменовані Рівні прав доступу

<img align="right" src="http://eos.io/wpimg/diagram3.png" width="228.395px" height="300px" />

Аккаунти EOS.IO можуть установлювати іменовані рівні прав доступу з можливістю успадкування дозволів від більш високого рівня (ієрархія прав доступу). Кожен іменований рівень доступу визначає одиницю адміністрування; така одиниця при цьому є процедурою перевірки мультипідписів із зазначенням порогів дії, ключів і/або іменованих рівнів доступу до інших аккаунтів. Наприклад, рівень доступу «Друг» може бути встановлений для облікового запису, який контролюватиметься в однаковій мірі аккаунтами всіх друзів користувача.

Інший приклад — блокчейн Steem, що має три іменовані рівні прав доступу, зафіксовані в коді: власник, активне право та право на публікацію. Останнє дає можливість здійснювати лише соціальні дії, як-от голосування та публікація записів, у той час як активне право дозволяє все, окрім зміни власника. Право власника краще зберігати на холодному носії (не під’єднаному до мережі), оскільки воно дозволяє виконання будь-яких дій із аккаунтом. Програмне забезпечення EOS.IO узагальнює такий підхід, даючи можливість кожному власникові облікового запису визначати власну ієрархію прав доступу, а також групувати дії.

### Іменовані групи обробників повідомлень

EOS.IO забезпечує кожному аккаунту можливість об'єднувати обробників повідомлень в ієрархічні іменовані групи. Вони можуть застосовуватись іншими аккаунтами в процесі зміни налаштувань їхніх рівнів доступу.

Обробники повідомлень верхнього рівня іменуються за назвою аккаунта, а нижнього — за індивідуальними типами повідомлень, що отримує аккаунт. Такі групи можуть бути знайдені так:  **@accountname.groupa.subgroupb.MessageType**.

Така модель дозволяє біржовому контракту групувати створення і скасування ордерів окремо від депозитів і виведення. Подібне групування за біржовим контрактом є загальноприйнятим для користувачів бірж.

### Прив'язка прав доступу

EOS.IO дає можливість кожному аккаунту визначати відповідність Іменованих обробників повідомлень будь-якого облікового запису до його Іменованого рівня доступу. Наприклад, власник аккаунта може встановити відповідність між своєю соціальною мережею і групою прав доступу «Друг». Із такою прив'язкою публікувати повідомлення в соціальній мережі власника аккаунта від його особи має право будь-який друг власника. І навіть незважаючи на те, що публікація здійснюватиметься від імені власника, для підписання повідомлень друзі будуть застосовувати персональні ключі. Це дозволяє визначити, хто з друзів використовував аккаунт, і як саме він був використаний.

### Застосування прав доступу

Протягом доставки повідомлення типу **Action** від **@alice** до **@bob** EOS.IO насамперед перевірить, чи володіє **@alice** відповідними правами доступу для **@bob.groupa.subgroup.Action**. разі, якщо відповідності не знайдено, будуть послідовно перевірені права на **@bob.groupa.subgroup**, потім — **@bob.groupa**, і, насамкінець, на **@bob**. Якщо не знайдено жодних відповідностей, передбачається застосування іменованої групи дозволів **@alice.active**.

Як тільки відповідність знайдено, право підпису перевіряється з урахуванням порога мультипідпису і права іменованого дозволу. Якщо перевірка закінчується невдало, аналізуються батьківські дозволи аж до прав доступу власника, **@alice.owner**.

<img align="center" src="https://cdn.pbrd.co/images/cNxWAFPn.jpg" width="845.85px" height="500px" />

#### Типові групи прав доступу

Технологія EOS.IO надає всім аккаунтам можливість утримувати групу доступу «власник», члени якої мають повний доступ до всіх функцій, і групу «активні права доступу», яка може все, окрім зміни групи «власник». Усі інші групи прав доступу походять із групи «активні права доступу».

#### Паралельна оцінка прав доступу

Розбір прав доступу є процесом у режимі «лише читання», а зміна прав здійснюється за допомогою транзакцій, які набувають чинності тільки після закінчення формування блоку. Це дозволяє здійснювати паралельний розбір ключів і дозволів для транзакцій. Більш того, це також уможливлює перевірку всіх дозволів до запуску логіки самого додатка, результатами роботи якої в разі порушення прав доступу довелося б знехтувати. І нарешті, такий підхід дозволяє перевіряти дозволи транзакцій не в момент їхнього застосування, а в момент отримання.

Із урахуванням усього вищесказаного перевірка дозволів охоплює значну частину загального процесу перевірки транзакції. Розпаралелювання і відсутність можливості внесення будь-яких змін робить процес перевірки дозволів значно продуктивнішим.

У процесі відтворення ланцюжка блоків за логами повідомлень з метою відновлення стану немає необхідності повторної перевірки дозволів. Сам факт того, що транзакція включена до підтвердженого раніше блока, є достатньою підставою пропустити етап перевірки прав доступу. Це значно знижує обчислювальне навантаження, пов'язане з повторним відтворенням транзакцій ланцюжка блоків, що невпинно подовжується.

## Повідомлення з відкладеною доставкою

Час є критичним компонентом безпеки. У більшості випадків дізнатися про викрадення приватного ключа неможливо доти, доки він не буде використаний. Безпека, заснована на часі, стає ще критичнішою у випадках, коли додаток вимагає зберігання ключів на комп'ютерах, що під’єднані до мережі і використовуються щодня. EOS.IO дає можливість розробникам додатків застосовувати певні повідомлення не в момент приєднання до блоку, а з певною визначеною мінімальною затримкою. Протягом такої примусової паузи повідомлення може бути скасовано.

У момент надсилання таких повідомлень користувачі можуть отримувати сповіщення з допомогою e-mail або SMS. Якщо повідомлення не було авторизовано, користувач може скористатися процедурою відновлення аккаунта і відкликати його.

Час затримки при цьому визначається важливістю операції, що міститься в повідомленні. Так, оплата кави може відбуватися без затримки і бути незворотною через кілька секунд, у той час як придбання нерухомості потребуватиме періоду для затвердження, що може сягати 72 годин. Передача самого аккаунта цілком під чиєсь управління може тривати до 30 днів. Точне значення часу затримки встановлюється розробниками програми та користувачами.

## Відновлення викрадених ключів

Програмне забезпечення EOS.IO дає користувачам можливість відновити контроль над своїм аккаунтом у випадку викрадення ключів. Власник облікового запису може застосовувати будь-який ключ власника, що був активним протягом останніх 30 днів, разом зі схваленням зазначеного партнера у справі відновлення аккаунта. Це допоможе перевстановити ключ власника на його аккаунт, щоб перевстановити ключ власника на його аккаунт. Обліковий запис партнера по відновленню не може перезавантажити контроль над аккаунтом власника без його безпосередньої допомоги.

Хакери не мають можливості здобути вигоду, намагаючись пройти через процес відновлення, бо вони вже «контролюють» аккаунт. Окрім того, якщо хакер спробує це здійснити, партнер по відновленню швидше за все зажадає ідентифікації та багатофакторної перевірки автентичності (телефон та електронна пошта). Це скомпрометує хакера чи позбавить його усілякої вигоди.

Цей процес разюче відрізняється від звичайної угоди з мультипідписом. У випадку з мультипідписаною транзакцією існує ще одна сторона, що бере участь у кожній здійсненій транзакції; але в процесі відновлення агент — це лише частина відновного процесу, він не керує щоденними транзакціями. Це значно скорочує витрати і юридичні зобов'язання всіх учасників.

# Детерміноване паралельне виконання додатків

Консенсус блокчейна залежить від детермінованої (відтвореної) поведінки. Це означає, що всі паралельні виконання мають бути вільними від взаємовиключення та інших блокуючих примітивів. Відсутність останніх має в певний спосіб гарантувати, що всі аккаунти можуть лише читати і записувати їхні приватні бази даних. Це також означає, що кожен обліковий запис обробляє повідомлення послідовно і що паралельність буде на рівні аккаунту.

У блокчейні на базі EOS.IO в завдання виробника блоків входить організація доставки повідомлень в незалежні потоки для паралельної обробки. Стан кожного аккаунта залежить тільки від отриманих повідомлень. Розклад транзакцій — це висновок виробника блоків, він буде закономірно виконаний, але процес його створення не має бути детерміністичним. Це означає, що виробникам блоків можна застосовувати паралельні алгоритми для створення розкладу транзакцій.

Роль паралельного виконання така: коли скрипт створює нове повідомлення, воно не надсилається негайно, натомість його доставка запланована на наступний цикл. Причина, із якої воно не може бути доставленим негайно, полягає в тому, що одержувач може активно змінювати свій стан в іншому потоці.

## Мінімізація комунікаційної затримки

Затримка — це час, потрібний для надсилання повідомлення від одного облікового запису до іншого, а також на отримання відповіді. Мета полягає в тому, аби дозволити двом аккаунтам здійснювати двосторонній обмін повідомленнями в межах одного блока без секундного очікування між кожним повідомленням. Аби надати таку можливість, програмне забезпечення EOS.IO ділить кожен блок на цикли. Кожен із них у свою чергу членується на потоки, що містять перелік транзакцій. Транзакція охоплює набір повідомлень, що будуть доставлені. Цю структуру можна зобразити у вигляді дерева, де шари, які чергуються, обробляються послідовно і паралельно.

        Блок
    
          Цикли (послідовні)
    
            Потоки (паралельні)
    
              Транзакції (послідовні)
    
                 Повідомлення (послідовні)
    
                  Одержувач і повідомлені аккаунти (паралельні)
    

Транзакції, вироблені в одному циклі, можуть доставлятися в будь-який наступний цикл або блок. Виробники блоків додаватимуть цикли в блок, доки не скінчиться час або доки не припинять створюватися нові транзакції для доставки.

Можна застосовувати статичний аналіз блоку, аби переконатися, що в певному циклі немає двох потоків, які містять транзакції та змінюють один і той же обліковий запис. Доки така інваріантність зберігається, блок може бути оброблений паралельним запуском всіх потоків.

## Прочитання повідомлень виключно обробниками

Деякі аккаунти можуть обробляти повідомлення за схемою пройшло/не пройшло без зміни його внутрішнього складу. У такому випадку ці обробки можуть виконуватися паралельно настільки довго, наскільки обробники, що читають повідомлення, для конкретного аккаунта включені в один або більше потоків у межах певного циклу.

## Атомарні транзакції з декількома аккаунтами

Іноді бажано гарантувати, що повідомлення доставлені та прийняті декількома аккаунтами атомарно. У цьому разі обидва повідомлення розміщують в одній транзакції, і обидва аккаунти будуть присвоєні одному потоку, причому повідомлення застосуються послідовно. Ця ситуація не ідеальна з боку продуктивності, і коли справа доходить до «виставлення рахунків» користувачам за використання, вони будуть нараховуватися за кількістю унікальних аккаунтів, що посилаються на транзакцію.

Зважаючи на продуктивність і вартість, найліпше мінімізувати атомарні операції з використанням двох або більше аккаунтів, що часто застосовуються.

## Часткова оцінка стану блокчейна

Для масштабування технології блокчейн необхідно, аби компоненти були модульними. Не обов’язково запускати все одразу, особливо якщо користувачам необхідно використовувати лише невеликий сегмент додатка.

Розробник біржового додатку запускає повні вузли з метою відображення стану біржі для своїх користувачів. Причому він не має бути пов’язаним із соціальними додатками. Програмне забезпечення EOS.IO дозволяє будь-якому повному вузлу вибирати підгрупу додатків для роботи. Повідомлення, доставлені іншим додаткам, спокійно ігноруються, тому що стан додатка повністю визначається повідомленнями, що надійшли.

Це істотно позначається на зв'язку з іншими аккаунтами. Найбільше впливає неможливість припущення, що стан іншого аккаунта доступний на цій самій машині. Попри те, що користувача приваблює можливість «блокувань», що дозволяють одному аккаунту синхронно викликати інший аккаунт, така схема ламається, якщо інший обліковий запис не знаходиться в пам'яті.

Усі стани зв'язку між аккаунтами мають бути передані через повідомлення, включені в блокчейн.

## Суб'єктивне планування найкращих результатів

Програмне забезпечення EOS.IO не зобов'язує виробників блоків доставляти будь-яке повідомлення будь-якому іншому аккаунту. Кожен продуцент блоків проводить власну суб'єктивну оцінку обчислювальної складності і часу, необхідного для здійснення обміну. Це застосовується і для транзакцій, створених користувачем, і для тих, що автоматично виникли з допомогою скрипта.

Програмне забезпечення EOS.IO передбачає, що в мережі всі транзакції оплачуються фіксованою вартістю пропускної здатності, незалежно від того, скільки триває їхнє здійснення: .01 ms або повні 10 ms. Однак кожен виробник блоків, що використовує програмне забезпечення, може розрахувати споживання ресурсів, застосовуючи власний алгоритм і вимірювання. Коли продуцент блоків висновує, що транзакція або аккаунт споживають непропорційно великий обсяг обчислювальної потужності, він просто відмовляється від транзакції протягом виробництва власного блока. Тим не менш він усе одно обробить транзакцію, якщо інші продуценти блоків визнають її за дійсну.

У цілому, поки хоча б один виробник блоків вважає транзакцію чинною і не порушує ліміти використання ресурсів, усі інші продуценти також застосують її, але пошук такого виробника може тривати до 1 хвилини.

У деяких випадках продуцент може створити блок, що містить транзакції, які перевищують визначені ліміти. У такому разі наступний виробник блоків може вирішити відхилити блок, і рівний рахунок буде порушений третім продуцентом. Це нічим не відрізняється від того, що відбувається, коли великий блок стає причиною мережевих затримок. Спільнота помітила б зловживання і зрештою видалила б свої голоси за нечесного виробника.

Ця суб'єктивна оцінка обчислювальних витрат звільняє блокчейн від необхідності чітко і детерміновано визначати, як довго триватиме запуск. Завдяки такій конструкції не потрібно чітко розраховувати інструкції, що значно збільшує можливості для оптимізації без порушення консенсусу.

# Модель токена і використання ресурсів

**Зауваження: криптографічні токени, про які йдеться в цих білих паперах, — це криптографічні токени, що вже працюють під управлінням EOS.IO-блокчейна. Ці маркери не є ERC-20 сумісними токенами блокчейна Ethereum, пов'язаними з процесом розподілу токенів EOS.**

Усі блокчейни обмежені в ресурсах і потребують захисної системи. Блокчейн на EOS.IO налічує три класи ресурсів, що споживаються додатками:

  1. Пропускна здатність і зберігання логів (диск);
  2. Обчислення і затримка в розрахунках (CPU);
  3. Сховище даних (RAM);

Пропускна здатність і обчислення складаються з двох компонентів: миттєвого використання і застосування протягом тривалого терміну. Блокчейн тримає журнал усіх повідомлень, що зберігається і завантажується повними вузлами. Із журналом повідомлень можливе відновлення всіх додатків.

Обчислювальна заборгованість — це розрахунки, що мають бути виконані для відновлення даних із журналу повідомлень. Якщо обчислювальна заборгованість занадто велика, виникає необхідність робити снапшоти стану блокчейна і відкидати його минулу історію. Якщо обчислювальна заборгованість катастрофічно зростає, відтворення транзакцій, здійснених за один рік, може тривати півроку. Тому дуже важливо, аби обчислювальний борг ретельно контролювався.

Сховище даних блокчейна — це інформація, що доступна в межах додатка. Вона включає в себе реєстри ордерів і баланси рахунків. Якщо дані ніколи не читалися додатком, їх не слід зберігати. Наприклад, зміст поста в блозі та коментарі не опрацьовуються, а отже, їх не слід зберігати в межах блокчейна. Тим часом існування поста/коментарів, число голосів та інші властивості все ж таки зберігаються як частина даних блокчейна.

Виробники блоків публікують доступний обсяг пропускної здатності, обчислень і даних. EOS.IO дозволяє кожному аккаунту споживати відсоток від доступної потужності, пропорційний кількості токенів, що утримуються в межах укладеного 3-денного контракту. Наприклад, якщо запущено блокчейн, заснований на програмному забезпеченні EOS.IO, і якщо аккаунт тримає 1 % від загальної кількості токенів, які розповсюджуються відповідно до цього блокчейну, тоді цей обліковий запис має потенціал використовувати 1 % ємності сховища даних.

При впровадженні програмного забезпечення EOS.IO в діючий блокчейн пропускна здатність і обчислювальна потужність розподіляються на основі часткового резервування, бо вони є минущими (невикористовувані потужності не можуть бути збережені для застосування в майбутньому). Алгоритм, що використовується програмним забезпеченням EOS.IO, схожий на той, що застосовується в Steem для обмеження пропускної здатності.

## Об'єктивні та суб'єктивні вимірювання

Як обговорювалося раніше, інструментарій обчислень істотно впливає на продуктивність і оптимізацію; тому всі обмеження на використання ресурсів виявляються суб'єктивними, причому їхнє виконання контролюється виробниками блоків із урахуванням індивідуальних алгоритмів і оцінок.

Тим не менш, є певні речі, що піддаються об'єктивному вимірюванню. Кількість доставлених повідомлень і розмір даних, що зберігаються у внутрішній базі даних, дешеві для об'єктивного вимірювання. Програмне забезпечення EOS.IO дозволяє виробникам блоків застосовувати той самий алгоритм до цих об'єктивних вимірів, але може використовувати і суворіші суб'єктивні алгоритми для більш суб'єктивних вимірів.

## Бізнес сплачує

Традиційно, саме бізнес платить за офісний простір, обчислювальну потужність та інші витрати, необхідні для його роботи. Клієнт купує у бізнесу певні продукти, і дохід від їхнього продажу залучається для покриття витрат бізнесу. Аналогічно, веб-сайт не зобов'язує своїх відвідувачів здійснювати мікроплатежі за відвідування цього ресурсу, щоб покрити витрати на хостинг. Тому децентралізовані програми не повинні змушувати своїх клієнтів безпосередньо платити блокчейну за його використання.

Програмне забезпечення EOS.IO не вимагає, щоб його користувачі платили блокчейну за його використання і, отже, не обмежує і не перешкоджає бізнесу у визначенні своєї стратегії монетизації продуктів.

## Делегування потужностей

Тримач токенів на блокчейні на базі EOS.IO, якому не потрібно негайно скористатися доступною потужністю або її частиною, може віддати або здати в оренду невикористану пропускну здатність іншим аккаунтам; виробники блоків, що працюють на програмному забезпеченні EOS.IO на такому блокчейні, розпізнають це делегування потужності і відповідно розподілять пропускну здатність.

## Відокремлення вартості транзакції від фактичної цінності токена

Однією з основних переваг програмного забезпечення EOS.IO є те, що доступна для додатка пропускна здатність повністю незалежна від ціни будь-якого токена. Якщо власник додатка має відповідну кількість токенів на блокчейні на базі програмного забезпечення EOS.IO, то додаток може працювати нескінченно залежно від фіксованого стану і пропускної здатності. У цьому разі розробники і користувачі не залежать від будь-яких коливань цін на ринку токена і, отже, не залежать від котирувань. Іншими словами, блокчейн, що використовує програмне забезпечення EOS.IO, дозволяє виробникам блоків природно збільшувати пропускну здатність, обчислювальну потужність і наявне у токена місце для зберігання стану незалежно від його цінності.

Блокчейн на основі EOS.IO також винагороджує виробників блоків токенами кожен раз, коли вони продукують блок. Цінність токенів впливає на сумарну пропускну здатність, місце для зберігання і обчислювальну потужність, яку виробник може купити. Ця модель природно застосовує зростаючу вартість токенів для підвищення продуктивності мережі.

## Вартість збереження стану

Тоді як пропускна здатність і обчислювальна потужність можуть бути делеговані, збереження стану програми вимагає від розробника додатка тримати токени доти, доки дані не будуть видалені. Якщо цього не станеться, маркери будуть ефективно вилучені з обігу.

Кожен активний аккаунт вимагає певного місця для зберігання; таким чином, обліковий запис повинен підтримувати мінімальний баланс. Зі збільшенням ємності сховища мережі цей показник буде зменшуватися.

## Винагорода за блок

Блокчейн на програмному забезпеченні EOS.IO буде винагороджувати виробника блоків новими токенами кожен раз, коли він продукує новий блок. Таким чином кількість створених токенів визначається середньою бажаною платою, визначеною всіма виробниками блоків. У налаштуваннях програмного забезпечення EOS.IO можна встановити обмеження на заохочення виробників, аби загальне річне збільшення запасу токенів не перевищувало 5 %.

## Корисні для спільноти додатки

Окрім обрання виробників блоків, користувачі можуть вибрати 3 корисні для спільноти додатки, також відомі як смарт-контракти. Ці 3 додатки отримуватимуть токени до заданого відсотка від їхньої загальної кількості на рік мінус токени, що були виплачені виробникам блоків. Ці смарт-контракти отримуватимуть токени пропорційно до кількості голосів, що була встановлена кожним додатком від власників токенів. Активні додатки або смарт-контракти можуть бути замінені новообраними додатками або смарт-контрактами власниками токенів.

# Управління

Управління — це процес, за допомогою якого люди досягають згоди з суб'єктивних питань, що не можуть бути повністю охоплені алгоритмами програмного забезпечення. Блокчейн на програмному забезпеченні EOS.IO реалізує процес управління, який ефективно керує впливом виробників блоків. Відсутність чітко визначеного процесу управління в попередніх блокчейнах, як і зважання на спеціальні, неофіційні і часто суперечливі процеси керування призводить до непередбачуваних результатів.

Блокчейн на програмному забезпеченні EOS.IO визнає, що влада реалізується власниками токенів, що делегують її виробникам блоків. Останнім надаються обмежені повноваження, що можуть бути перевірені, щодо заморожування аккаунтів, оновлення дефектних додатків і внесення пропозицій щодо хардфорків у базовий протокол.

Процес вибору виробників блоків убудований у програмне забезпечення EOS.IO. Перш ніж будь-яка зміна буде внесена в блокчейн, продуценти блоків мають її схвалити. Якщо виробники блоків відмовляються вносити зміни за бажанням власників токенів, вони можуть бути усунуті. Якщо виробники блоків вносять коректури без дозволу власників токенів, усі інші засвідчувачі повних вузлів, що не беруть участі в продукуванні нових одиниць, (біржі тощо), відхилять зміни.

## Заморожування аккаунтів

Іноді смарт-контракт поводиться непередбачувано і не виконує свого призначення. В інших випадках додаток або аккаунт може стати вразливим, що спричинить споживання ним більшої кількості ресурсів. У разі неминучого виникнення таких проблем виробники блоків мають право залагодити подібні ситуації.

Виробники блоків у всіх блокчейнах здатні самі обирати, які транзакції включати до блоків, що дає їм можливість заморожувати аккаунти. Блокчейн на програмному забезпеченні EOS.IO формалізує цей вплив, пропонуючи процес заморожування аккаунта за наявності 17 з 21 голосу активних виробників. Якщо продуценти зловживають владою, вони можуть бути усунуті, і аккаунт поновить роботу.

## Зміна коду аккаунта

Коли нічого не подіяло, і «некерований додаток» продовжує діяти непередбачувано, блокчейн на програмному забезпеченні EOS.IO дозволяє виробникам блоків замінити код аккаунта без хардфорка всього блокчейна. Як і  процес заморозки аккаунта, ця заміна коду вимагає 17 з 21 голосу обраних виробників блоків.

## Конституція

Програмне забезпечення EOS.IO дозволяє блокчейнам установити peer-to-peer умови використання або договір, званий «конституцією», що юридично зобов’язує учасників. Зміст цього документу визначає обов’язки користувачів, що не можуть цілком реалізуватися кодом. Також він полегшує врегулювання суперечок шляхом встановлення юрисдикції та обраного права поряд із іншими взаємно прийнятими правилами. Кожна транзакція, що транслюється в мережу, має містити хеш-конституції як частину підпису, таким чином пов'язуючи учасника з договором.

Конституція також встановлює призначення протоколу вихідного коду. Воно застосовується для визначення різниці між багом і функцією, коли виникають помилки, і керує спільнотою при виборі методу внормування.

## Оновлення Протоколу & Конституції

Програмне забезпечення EOS.IO визначає процес, де протокол, окреслений канонічним вихідним кодом і його конституцією, може бути оновлений таким чином:

  1. Виробники блоків пропонують зміни конституції і здобувають 17/21 голосів схвалення.
  2. Виробники блоків підтримують схвалення 17/21 протягом 30 днів поспіль.
  3. Усі користувачі зобов'язані підписувати транзакції, застосовуючи хеш нової конституції.
  4. Виробники блоків вносять відповідні зміни до початкового коду, щоб відобразити зміни конституції, і пропонують їх блокчейну, використовуючи хеш гіта змін коду.
  5. Виробники блоків підтримують схвалення 17/21 протягом 30 днів поспіль.
  6.Зміни в коді набувають чинності 7 днів по тому, надаючи всім повним вузлам один тиждень для поновлення після ратифікації вихідного коду.
  7. Усі вузли, що не переходять на новий код, автоматично відключаються.

За замовчуванням у конфігурації програмного забезпечення EOS.IO процес оновлення блокчейна для додавання нових функцій триває від 2 до 3 місяців. Термін виправлення некритичних помилок, що не потребують зміни конституції, становить від 1 до 2 місяців.

### Екстрені зміни

Виробники блоків можуть прискорити процес, якщо зміна програмного забезпечення спрямована на усунення небезпечної помилки чи пошкоджень безпеки, що активно шкодять користувачам. Підсумовуючи, прискорені поновлення, що націлені на впровадження нових функцій або усунення дрібних помилок, можуть не відповідати затвердженій конституції.

# Скрипти & віртуальні машини

Програмне забезпечення EOS.IO стане першою і передовою платформою для координації доставки справжніх повідомлень аккаунтам. Деталі скриптової мови і віртуальної машини стосуються деталей упровадження, що здебільшого є незалежними від архітектури технології EOS.IO. Будь-яка детерміністична мова чи віртуальна машина, правильно створені і достатньо продуктивні, можуть бути інтегровані з API програмного забезпечення EOS.IO.

## Повідомлення, визначені схемою

Усі повідомлення, що передаються між аккаунтами, визначаються схемою, яка є частиною стану консенсусу блокчейна. Вона дозволяє легко виконувати перетворення між двійковою і JSON системами подання повідомлень.

## Обумовлена схемою база даних

Стан бази даних також визначається аналогічною схемою. Внаслідок цього всі дані, що зберігаються усіма додатками, записані у форматі, який може бути інтерпретований у читабельний JSON, але зберігаються і обробляються з ефективністю двійкової мови.

## Відокремлення аутентифікації від додатка

Для максимального використання можливостей розпаралелювання і мінімізації обчислювального боргу, пов'язаного з регенерацією стану програми з журналу транзакцій, програмне забезпечення EOS.IO розділяє логіку перевірки на три етапи:

  1. Перевірка того, що повідомлення є внутрішньо узгодженим;
  2. Перевірка того, що всі попередні умови чинні;
  3. Зміна стану програми;

Перевірка внутрішньої узгодженості повідомлення доступна тільки для читання і не вимагає доступу до стану блокчейна. Це означає, що вона може проводитися з максимальним паралелізмом. Перевірка попередніх умов, як-от необхідний баланс, доступна лише для читання і тому також може застосовувати паралелізм. Тільки зміна стану програми вимагає доступу з правом запису і має оброблятися послідовно для кожної програми.

Аутентифікація — це доступний тільки для читання процес перевірки того, що повідомлення може бути застосовано. Насправді додаток здійснює всю роботу самотужки. У режимі реального часу повинні бути виконані обидва обчислення, проте після включення транзакції в блокчейн необхідність перевірки автентичності відпадає.

## Незалежна архітектура віртуальної машини

Задум блокчейна на програмному забезпеченні EOS.IO полягає в тому, що одночасно може підтримуватися кілька віртуальних машин, причому нові додаються за необхідності. Із цієї причини ці папери не надаватимуть деталей щодо будь-якої мови чи віртуальної машини. Проте є дві віртуальні машини, які на даний момент розглядаються для використання в блокчейні на програмному забезпеченні EOS.IO.

### Web Assembly (WASM)

Web Assembly є новим веб-стандартом для побудови високопродуктивних веб-додатків. Із кількома невеликими змінами Web Assembly може стати детерміністичним і перетворитися на пісочницю. Перевага Web Assembly — це значна підтримка з боку індустрії і можливість розробки контрактів знайомими мовами, наприклад, С або C ++.

Розробники Ефіріума вже почали модифікувати Web Assembly для надання відповідної пісочниці та детермінізму їхньому [Ethereum flavored Web Assembly (WASM)](https://github.com/ewasm/design). Цей підхід може бути легко адаптований і інтегрований у програмне забезпечення EOS.

### Віртуальна машина Ethereum (EVM)

Ця віртуальна машина застосована для більшості дійсних смарт-контрактів і може бути адаптована для роботи в блокчейні EOS.IO. Цілком можливо, що EVM-контракти можуть бути запущені в межах їхньої власної пісочниці всередині блокчейна на програмному забезпеченні EOS. Імовірно, із деякою адаптацією EVM-контракти зможуть зв'язуватися з іншими додатками на такому блокчейні.

# Міжблокчейновий зв'язок

Програмне забезпечення EOS.IO створене для полегшення зв'язку між блокчейнами. Це досягається шляхом спрощення доказу існування повідомлень і доказу їхньої послідовності. Ці докази в поєднанні з архітектурою додатка, розробленої для передачі повідомлень, дозволяють приховати деталі міжблокчейнового зв'язку і перевірку чинності від розробників додатків.

<img align="right" src="https://cdn.pbrd.co/images/240jBsM8A.jpg" width="362.84px" height="500px" />

## Доказ Меркле для перевірки легкого клієнта (Light Client) (LCV)

Інтеграція з іншими блокчейнами набагато простіша, якщо клієнтам не потрібно обробляти всі транзакції. Зрештою, біржа піклується тільки про вхідні та вихідні трансфери біржі, і ні про що більше. Також було б ідеально, якби ланцюг біржі міг залучати легковагі докази депозиту Меркла замість того, щоб цілком і повністю довіряти власним виробникам блоків. Щонайменше виробники блоків у цьому ланцюзі захочуть зазнати мінімально можливих витрат протягом синхронізації з іншим блокчейном.

Мета LCV — дозволити генерацію щодо легковагих доказів існування, які можуть бути перевірені будь-яким, хто відстежує доволі легковагий набір даних. У такому разі метою є довести, що певна транзакція була включена в певний блок, і що блок входить у перевірену історію конкретного блокчейна.

Біткойн підтримує підтвердження транзакцій, припускаючи, що всі вузли мають доступ до повної історії заголовків блоків, що становить 4 Мб одиниць на рік. Із 10 транзакціями на секунду чинний доказ вимагає близько 512 байт. Це добре працює на блокчейні з 10-хвилинним інтервалом між блоками, але проблематино для блокчейнів із 3-секундною паузою.

Програмне забезпечення EOS.IO дозволяє застосовувати легковагі докази кожному, хто має будь-який необоротний заголовок блоку після моменту, де була ввімкнена транзакція. Використовуючи хеш-пов'язану структуру, зображену нижче, можна довести існування будь-якої транзакції з доказом, що займає менше 1024 байт. Якщо передбачається, що перевіряючі вузли рухались одночасно з усіма заголовками блоків протягом останнього дня (2 Мб даних), то для підтвердження цих транзакцій буде достатньо тільки доказу довжиною 200 байт.

Існує незначне додаткове навантаження, пов'язане з виробництвом блоків із належними хеш-посиланнями, необхідними для зазначених доказів. Це означає, що немає жодної причини не створювати блоки таким способом.

Коли настає час перевірити докази на інших ланцюгах, можна застосувати безліч оптимізацій часу/простору/пропускної здатності. Відстеження всіх заголовків блоків (420 Мб на рік) збереже розмір доказів невеликим. Відстеження ж лише останніх заголовків може запропонувати компроміс між мінімальним довгостроковим зберіганням і розміром доказів. Аналогічно блокчейн може використовувати ледачий підхід до оцінки, де він запам'ятовує проміжні хеші минулих доказів. Нові докази мають містити тільки посилання на відоме розрідженому дереву. Точніше, використовуваний підхід буде обов'язково залежний від відсотка чужих блоків, що включають транзакції, на які посилається доказ Меркле.

Після певної щільності взаємозв'язків стає більш ефективним просто мати один ланцюг, що містить всю історію блоків іншого ланцюга, і зовсім усунути необхідність доказів. Зважаючи на продуктивність, ідеально було б мінімізувати частоту міжблокчейнових доказів.

## Затримка зв'язку між блокчейнами

Протягом комунікації з блокчейном виробники блоків мають чекати 100 % впевненості, що певна транзакція була необоротно підтверджена іншим блокчейном, перш ніж прийняти її як чинні вхідні дані. При застосуванні блокчейна на програмному забезпеченні EOS.IO і алгоритму DPOS з 3-секундними блоками і 21 виробником це триватиме близько 45 секунд. Якщо виробники блоків ланцюга не чекатимуть незворотності, це ніби біржа прийняла депозит, що згодом був скасований. Це могло б вплинути на дійсність консенсусу блокчейна.

## Доказ цілісності

Коли застосовуються докази Меркле від інших блокчейнів, є істотна різниця між знанням, що всі оброблені транзакції є дійсними, і знанням, що жодна транзакція не була відхилена чи пропущена. І якщо довести, що всі останні транзакції відомі, неможливо, то можна довести, що в історії транзакцій не було ніяких прогалин. Програмне забезпечення EOS.IO полегшує цей процес, привласнюючи порядковий номер кожного повідомлення, доставленого аккаунту. Користувач може використовувати ці порядкові номери, аби довести, що всі повідомлення, призначені для конкретного аккаунта, були оброблені по черзі.

# Висновок

Програмне забезпечення EOS.IO розроблено з урахуванням нашого досвіду з використанням перевірених концепцій і найкращих практик. Воно є фундаментально новим рівнем в технології блокчейн. Програмне забезпечення є частиною цілісного плану з побудови глобального масштабування блокчейн-суспільства, де створювати децентралізовані додатки і управляти ними зовсім просто.

